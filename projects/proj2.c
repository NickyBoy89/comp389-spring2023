#include <stdio.h>
#include <string.h>
#include <stdlib.h>

#include "pbm.h"

int main(void) {
  char data[] = {0x50, 0x34, 0x0a, 0x31, 0x37, 0x20, 0x31, 0x37, 0x0a, 0xff, 0xff, 0x80, 0xff, 0x80, 0x80, 0xff, 0x80, 0x80, 0xff, 0x80, 0x80, 0xff, 0x80, 0x80, 0xff, 0x80, 0x80, 0xff, 0x80, 0x80, 0xff, 0x80, 0x80, 0xff, 0xff, 0x80, 0x80, 0xff, 0x80, 0x80, 0xff, 0x80, 0x80, 0xff, 0x80, 0x80, 0xff, 0x80,  0x80, 0xff, 0x80, 0x80, 0xff, 0x80, 0x80, 0xff, 0x80, 0xff, 0xff, 0x80};
  int data_size = sizeof(data);

  struct pbm_file* file = read_pbm_file(data, data_size);
  if (file == NULL) {
    printf("There was an error with the file\n");
    return 1;
  }

  display_pbm_file(file);

  close_pbm_file(file);
  free(file);

  return 0;
}
